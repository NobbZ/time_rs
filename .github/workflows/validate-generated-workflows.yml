# SPDX-FileCopyrightText: 2025 Norbert Melzer <timmelzer@gmail.com>
#
# SPDX-License-Identifier: CC0-1.0

# This file is generated from internal/ci/workflows.cue
# Do not edit directly. Run make generate-workflows to regenerate.

name: Validate Generated Workflows
"on":
  - pull_request
permissions:
  contents: read
jobs:
  validate:
    name: Validate Workflows
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Install CUE
        uses: cue-lang/setup-cue@v1.0.1
      - name: Generate workflows from CUE
        run: make generate-workflows
      - name: Check for uncommitted changes
        run: if ! git diff --exit-code .github/workflows/; then echo 'Generated workflows are out of date. Run make generate-workflows and commit the changes.'; exit 1; fi
      - name: Run actionlint
        uses: ivankatliarchuk/actionlint@v1
